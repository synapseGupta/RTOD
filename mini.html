<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Real-time Object Detection â€” Frontend</title>
  <link rel="stylesheet" href="miniStyle.css">
</head>
<body>
  <div class="container">
    <div class="card preview">
      <video id="cam" autoplay playsinline muted></video>
      <canvas id="overlay"></canvas>
      <!-- hidden capture canvas used to grab frames for sending to the backend -->
      <canvas id="capture" style="display:none"></canvas>
    </div>

    <aside class="card sidebar">
      <div>
        <h1>Realtime Object Detection</h1>
        <div class="small">Camera preview + overlay. Connects to a detection backend (WebSocket) or can be adapted for local models.</div>
      </div>

      <div class="stats">
        <div class="stat">
          <div class="small">Total Detections</div>
          <div id="total" class="num">0</div>
        </div>
        <div class="stat">
          <div class="small">Unique Labels</div>
          <div id="unique" class="num">0</div>
        </div>
      </div>

      <div class="small" style="margin-top:6px">Detected objects (label : count)</div>
      <div id="list" class="list"></div>

      <div class="controls">
        <button id="startBtn" class="primary">Start</button>
        <button id="stopBtn">Stop</button>
        <button id="testBtn">Run demo</button>
      </div>

      <div style="margin-top:8px">
        <div class="small">Backend WebSocket URL</div>
        <input id="wsUrl" value="ws://localhost:8000/ws" style="width:100%; padding:8px; margin-top:6px; border-radius:8px; border:1px solid rgba(255,255,255,0.04); background:transparent; color:var(--white)" />
      </div>

      <footer>Tip: serve this file over a local server (e.g. `npx http-server` or `python -m http.server`) to allow camera access.</footer>
    </aside>
  </div>

  <script src = "miniScript.js"></script>
</body>
</html>

